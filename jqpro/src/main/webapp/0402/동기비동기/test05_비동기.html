<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../../css/public.css">
<script src="../../js/jquery-3.7.1.js"></script>
<style>

</style>
<script>
// 옳지 못한 방법 (vname이 정의되기 전에 proc1에서 vname을 먼저 호출함)
/* function getData(userId) {
	setTimeout(()=>{
		// 파라미터를 받아 서버에서 데이터를 받아온다고 가정
		console.log("서버에서 데이터 받아오기");
		
		// 받아온 데이터라고 가정
		vname = "가나다";
	}, 2000);
}

const proc1 = () => {
	//데이터 가져오기 위한 조건 파라미터 전송
	getData("a001");
	console.log("결과 데이터 : ", vname);
} */

function getData(userId, fn){
	setTimeout(()=>{
		console.log("서버에서 데이터 받아오기");
		let vname = "가나다";
		fn(vname);
	}, 2000);
}

const proc1 = () => {
	getData("a001", function(vname) {
		console.log("결과 데이터 : ", vname);
	})
}
</script>
</head>
<body>
	<div class="box">
		<h3></h3>
		<input type="button" value="확인" onclick="proc1()"> <br> <br>
		<div id="result1"></div>
	</div>
</body>
</html>